#include <stdio.h>#include <pthread.h>#include <stdlib.h>#include <unistd.h>#include <stdbool.h>#define NUM_THREADS 100#define MAX_TRIES 10#define MAXVAL 9999999999	void* thread_func(void *arg);unsigned long int get_random_num();bool isPrime(unsigned long int test_num);int main(){	pthread_t tid[NUM_THREADS];	// create threads	printf("Creating %d threads...\n",NUM_THREADS);	for(int i=0;i<NUM_THREADS;i++){		pthread_create(&tid[i], NULL, thread_func,NULL);	}	printf("Thread creation completed\n");		// waiting stage the join	printf("Threads are now searching for primes by brute force...\n");	printf("Hereâ€™s the output of my program with %d threads and MAX_TRIES set to %d :\n\n",NUM_THREADS,MAX_TRIES);	for(int i=0;i<NUM_THREADS;i++){		void* ref;		pthread_join(tid[i],&ref);		unsigned long int dref= (unsigned long int)ref;						if(dref>0){			printf("thread %d reports that %lu is prime\n",i,dref);		}else{			printf("thread %d reports no prime\n",i);		}	}	return 0;}void *thread_func(void* arg){	unsigned long int test_num=0;	for(int i=0;i<MAX_TRIES;i++){		test_num=get_random_num();		if(isPrime(test_num)){			break;		}		test_num=0;	}	return (void*)test_num;}bool isPrime(unsigned long int test_num){	for(int i=2; i<test_num;i++){			if(test_num % i== 0){ // is not prime				return false;			}		}		return true;	}/* this subroutine returns a random unsigned long int */unsigned long int get_random_num(){	unsigned long int to_test ;	arc4random_buf (& to_test , sizeof ( to_test ));	to_test = to_test % MAXVAL ;	return to_test;	}